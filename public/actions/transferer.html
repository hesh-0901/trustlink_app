<!DOCTYPE html>
<html lang="fr">
<head>
<meta charset="UTF-8" />
<meta name="viewport" content="width=device-width, initial-scale=1.0" />
<title>Transférer - TrustLink</title>

<script src="https://cdn.tailwindcss.com"></script>
<link href="https://cdn.jsdelivr.net/npm/bootstrap-icons@1.11.3/font/bootstrap-icons.css" rel="stylesheet">

<script type="module" src="/trustlink_app/js/firebase-init.js"></script>
<script type="module" src="/trustlink_app/js/transferer.js"></script>
<script type="module" src="/trustlink_app/main_js/layout.js"></script>

</head>

<body class="bg-background min-h-screen">

<div id="header-container"></div>

<div class="max-w-md mx-auto px-6 py-6 pb-28">

<h1 class="text-xl font-semibold mb-6">Transfert sécurisé</h1>

<form id="transferForm" class="space-y-6">

<!-- WALLET SOURCE -->
<div>
<label class="block text-sm font-medium mb-2">Depuis</label>
<select id="walletSelect"
class="w-full border rounded-xl px-4 py-3 focus:ring-2 focus:ring-primaryStrong">
<option value="">Sélectionner</option>
</select>

<p id="walletInfo"
class="text-xs text-gray-500 mt-2"></p>
</div>

<!-- DESTINATION WALLET -->
<div>
<label class="block text-sm font-medium mb-2">Wallet destinataire</label>
<input type="text"
id="recipientWallet"
placeholder="TL-XXXX-01"
class="w-full border rounded-xl px-4 py-3 focus:ring-2 focus:ring-primaryStrong" />
</div>
  <!-- CHOISIR AMIS -->
  <div>
<label class="block text-sm font-medium mb-2">Ou choisir un ami</label>
<select id="friendSelect"
class="w-full border rounded-xl px-4 py-3">
<option value="">Sélectionner un ami</option>
</select>
</div>

<!-- DESTINATION PREVIEW -->
<div id="recipientPreview"
class="hidden p-4 rounded-2xl bg-white shadow flex items-center gap-3">

<img id="recipientAvatar"
class="w-12 h-12 rounded-full object-cover"/>

<div>
<div id="recipientName"
class="text-sm font-medium text-gray-800"></div>
<div id="recipientUsername"
class="text-xs text-gray-500"></div>
</div>

</div>

<!-- AMOUNT -->
<div>
<label class="block text-sm font-medium mb-2">Montant</label>
<input type="number"
id="amount"
min="1"
class="w-full border rounded-xl px-4 py-3 focus:ring-2 focus:ring-primaryStrong"
placeholder="0" />
</div>

<!-- TYPE -->
<div>
<label class="block text-sm font-medium mb-2">
Type de transfert
</label>

<select id="motifType"
class="w-full border rounded-xl px-4 py-3 focus:ring-2 focus:ring-primaryStrong">
<option value="">Sélectionner</option>
<option value="standard">Virement standard</option>
<option value="loan">Prêt personnel</option>
<option value="repayment">Remboursement de dette</option>
<option value="engagement">Engagement financier</option>
</select>
</div>

<!-- MOTIF -->
<div>
<label class="block text-sm font-medium mb-2">
Motif personnalisé
</label>
<input type="text"
id="customMotif"
class="w-full border rounded-xl px-4 py-3 focus:ring-2 focus:ring-primaryStrong"
placeholder="Description obligatoire" />
</div>

<p id="errorMsg"
class="text-red-500 text-sm hidden"></p>

<button type="submit"
id="submitBtn"
class="w-full bg-primaryStrong text-white py-3 rounded-xl font-semibold flex items-center justify-center gap-2">

<span id="btnText">Confirmer transfert</span>
<i id="btnSpinner"
class="bi bi-arrow-repeat animate-spin hidden"></i>

</button>

</form>

</div>

<div id="navbar-container"></div>

</body>
</html>
