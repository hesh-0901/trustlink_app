<!DOCTYPE html>
<html lang="fr">
<head>
<meta charset="UTF-8" />
<meta name="viewport"
content="width=device-width, initial-scale=1.0, viewport-fit=cover" />

<title>Dashboard - TrustLink</title>

<script src="https://cdn.tailwindcss.com"></script>

<link href="https://cdn.jsdelivr.net/npm/bootstrap-icons@1.11.3/font/bootstrap-icons.css" rel="stylesheet">

<script>
tailwind.config = {
  theme: {
    extend: {
      colors: {
        primary: "#1E2BE0",
        primaryStrong: "#0F1ACD",
        primaryLight: "#3D4BFF",
        background: "#EEF2FF"
      }
    }
  }
}
</script>

<script type="module" src="/trustlink_app/js/firebase-init.js"></script>
<script type="module" src="/trustlink_app/main_js/dashboard.js"></script>

<style>
body {
  background: #EEF2FF;
  font-family: -apple-system, BlinkMacSystemFont, "Segoe UI", Roboto, sans-serif;
}

.swipe-container {
  display: flex;
  gap: 16px;
  overflow-x: auto;
  scroll-snap-type: x mandatory;
  -webkit-overflow-scrolling: touch;
}

.swipe-container::-webkit-scrollbar {
  display: none;
}

.swipe-item {
  min-width: 100%;
  scroll-snap-align: center;
}

.wallet-card {
  border-radius: 28px;
  padding: 24px;
  position: relative;
  overflow: hidden;
  color: white;
  box-shadow: 0 30px 70px rgba(0,0,0,0.18);
}

.gradient-wallet {
  background: linear-gradient(
    135deg,
    #0F1ACD 0%,
    #1E2BE0 40%,
    #3D4BFF 100%
  );
}

.bottom-nav {
  background: white;
  border-radius: 999px;
  padding: 14px 40px;
  display: flex;
  gap: 60px;
  box-shadow: 0 20px 40px rgba(0,0,0,0.12);
}
</style>

</head>

<body class="min-h-screen">

<div class="max-w-md mx-auto px-6 pt-10 pb-28">

  <!-- HEADER -->
  <div class="flex justify-between items-center mb-8">
    <h1 id="userName" class="text-xl font-semibold text-gray-800">
      Chargement...
    </h1>

    <button id="logoutBtn" class="text-primaryStrong text-xl">
      <i class="bi bi-box-arrow-right"></i>
    </button>
  </div>

  <!-- SWIPE WALLETS -->
  <div class="swipe-container mb-10">

    <!-- USD -->
    <div class="swipe-item">
      <div class="wallet-card gradient-wallet">

        <div class="flex justify-between items-center mb-6">
          <img src="/trustlink_app/assets/white.logo.png"
               class="h-6" alt="TrustLink">
          <span class="text-sm opacity-80 font-semibold">
            USD
          </span>
        </div>

        <p class="text-sm opacity-80 mb-2">
          Solde disponible
        </p>

        <h2 id="balanceUSD"
            class="text-3xl font-bold tracking-tight mb-6">
          $0
        </h2>

      </div>
    </div>

    <!-- CDF -->
    <div class="swipe-item">
      <div class="wallet-card gradient-wallet opacity-95">

        <div class="flex justify-between items-center mb-6">
          <img src="/trustlink_app/assets/white.logo.png"
               class="h-6" alt="TrustLink">
          <span class="text-sm opacity-80 font-semibold">
            CDF
          </span>
        </div>

        <p class="text-sm opacity-80 mb-2">
          Solde disponible
        </p>

        <h2 id="balanceCDF"
            class="text-3xl font-bold tracking-tight mb-6">
          0 CDF
        </h2>

      </div>
    </div>

  </div>

  <!-- TRANSACTIONS -->
  <div>

    <div class="flex justify-between items-center mb-4">
      <h3 class="text-base font-semibold">
        Activité récente
      </h3>
    </div>

    <div id="transactionsList"
         class="space-y-3">
    </div>

  </div>

</div>

<!-- NAVBAR LOAD -->
<div id="navbar-container"></div>

<script type="module">
async function loadNavbar() {
  const res = await fetch("/trustlink_app/partials/nav.html");
  const data = await res.text();
  document.getElementById("navbar-container").innerHTML = data;
}
loadNavbar();
</script>

</body>
</html>
